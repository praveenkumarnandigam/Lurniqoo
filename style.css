:root {
  --text: #e8ebf0;
  --muted: #b9c1d4;
  --accent1: #00d4ff;
  --accent2: #7c5cff;
  --glass: rgba(255, 255, 255, .06);
  --glass-brd: rgba(255, 255, 255, .15);
  --shadow: 0 18px 45px rgba(0, 0, 0, .35);
}

* { box-sizing: border-box; }
html { scroll-behavior: smooth; }

body {
  margin: 0; min-height: 100vh; color: var(--text);
  font-family: system-ui, -apple-system, sans-serif;
  background: linear-gradient(135deg, #0a0f1a, #0c1c38, #091021);
  background-size: 180% 180%;
  animation: bgShift 16s ease-in-out infinite;
  overflow-x: hidden;
}

@keyframes bgShift {
  0% { background-position: 0% 20% }
  50% { background-position: 100% 80% }
  100% { background-position: 0% 20% }
}

/* Transitions */
.view { display: none; padding: 20px; animation: fadeIn 0.4s ease; }
.view.active { display: block; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

/* Header & Sidebar */
.site-header {
  position: sticky; top: 0; z-index: 10;
  display: flex; align-items: center; padding: .6rem 1rem;
  background: rgba(10, 15, 26, 0.8); backdrop-filter: blur(8px);
  border-bottom: 1px solid var(--glass-brd);
  transition: all 0.4s ease;
}

.nav a { color: var(--text); text-decoration: none; padding: .5rem .8rem; border-radius: .7rem; opacity: .8; }
.nav a:hover { opacity: 1; background: var(--glass); }

.sidebar {
  position: fixed; inset: 0 auto 0 0; width: 72px;
  display: flex; flex-direction: column; align-items: center; padding: 12px 0;
  background: rgba(10, 15, 26, 0.9); border-right: 1px solid var(--glass-brd);
  z-index: 12; transform: translateX(-100%); transition: transform 0.4s ease;
}

/* Mode classes */
body.mode-anu #sidebar { transform: translateX(0); }
body.mode-anu #topbar { transform: translateY(-100%); }
body.mode-anu .content-offset { margin-left: 72px; }

/* Home Logo Animation */
.logo-tile {
  width: 110px; height: 110px; border-radius: 24px; display: grid; place-items: center; margin: 40px auto 20px;
  background: linear-gradient(135deg, var(--accent2), var(--accent1));
  box-shadow: var(--shadow); transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}
.home-brand { text-align: center; }

body.transitioning #main-logo {
    transform: translate(-42vw, -45vh) scale(0.4);
    opacity: 0;
}

/* Grid Layouts */
.portal-grid, .dep-grid, .subject-grid {
  display: grid; gap: 16px; width: min(1000px, 95%); margin: 2rem auto;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
}

.portal-btn, .dep-btn, .big-btn, .subject-card, .choice-option {
  background: var(--glass); border: 1px solid var(--glass-brd);
  padding: 1.2rem; border-radius: 16px; color: #fff; text-decoration: none;
  transition: transform 0.2s, background 0.2s; cursor: pointer;
}
.portal-btn:hover, .dep-btn:hover, .subject-card:hover { transform: translateY(-3px); background: rgba(255,255,255,0.1); }

/* Buttons & Forms */
.submit-btn {
  background: linear-gradient(135deg, var(--accent1), #69a8ff);
  color: #08111f; border: none; padding: .8rem 1.5rem; border-radius: 12px;
  font-weight: bold; cursor: pointer; width: 100%;
}

.bar { display: flex; align-items: center; gap: 15px; margin-bottom: 20px; }
.back-btn { background: var(--glass); border: 1px solid var(--glass-brd); color: #fff; padding: 8px 15px; border-radius: 8px; cursor: pointer; }

.view-title { font-size: 1.2rem; white-space: normal; word-wrap: break-word; flex: 1; }

/* Modals */
.auth-modal, .admin-modal {
  position: fixed; inset: 0; background: rgba(0,0,0,0.7);
  display: none; place-items: center; z-index: 100;
}
.auth-panel, .admin-panel {
  background: #0c1c38; padding: 2rem; border-radius: 20px; width: min(500px, 90%);
  border: 1px solid var(--glass-brd);
}
.admin-form { display: grid; gap: 10px; grid-template-columns: 1fr 1fr; }
.admin-form label { font-size: 0.8rem; color: var(--muted); }
.admin-form input, .admin-form select { width: 100%; padding: 8px; border-radius: 5px; background: #111; color: #fff; border: 1px solid #333; }

.logo-badge { width: 40px; height: 40px; background: linear-gradient(135deg, var(--accent2), var(--accent1)); border-radius: 10px; display: grid; place-items: center; font-weight: 900; }
.side-nav a { font-size: 24px; margin: 10px 0; }

@media (max-width: 760px) {
  body.mode-anu .content-offset { margin-left: 60px; }
  .sidebar { width: 60px; }
  .transitioning #main-logo { transform: translate(-40vw, -46vh) scale(0.3); }
}